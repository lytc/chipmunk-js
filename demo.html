<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <style>
    body {
      margin: 0;
      background-color: #343e48;
      font-family: Arial;
      font-size: 14px;
    }
    #canvas-container {
      width: 640px;
      height: 480px;
      margin: auto;
    }

    #nav {
      background-color: #fff;
      position: fixed;
      margin: 0;
      padding: 10px 0;
      left: 0;
      top: 10px;
      bottom: 10px;
      width: 300px;
      list-style: none;
      line-height: 20px;
      border-radius: 4px;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      box-shadow: 0 5px 10px rgba(255, 255, 255, 0.2);
    }

    #nav .header {
      font-size: 18px;
      font-weight: bold;
      line-height: 24px;
      border-bottom: 1px solid #ccc;
      margin: 0;
      margin-bottom: 4px;
    }

    #nav a {
      text-decoration: none;
      color: #0088cc;
      display: block;
      padding: 2px 30px 2px 20px;
    }

    #nav a:hover {
      background-color: #0088cc;
      color: #ffffff;
    }

    #nav a.current {
      background-color: #0088cc;
      color: #ffffff;
      opacity: .5;
    }

    #demo-list {
        position: absolute;
        list-style: none;
        margin: 0;
        padding: 0;
        overflow: auto;
        top: 40px;
        right: 0;
        bottom: 0;
        left: 0;
    }

  </style>
  <script>
    var NDEBUG = true
  </script>
</head>
<body>
    <div id="nav">
        <h3 class="header"><a href="index.html">Chipmunk JS</a></h3>
        <ul id="demo-list" data-toggle-state=1>
        </ul>
    </div>

    <div id="canvas-container">
      <canvas id="canvas" width="640" height="480" tabindex="1"></canvas>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/stats.js/r11/Stats.js"></script>
    <script src="cp.min.js"></script>
    <script src="demo/Demo.js"></script>
    <script src="demo/Renderer.js"></script>
    <script src="demo/Tumble.js"></script>
    <script src="demo/PyramidStack.js"></script>
    <script src="demo/Convex.js"></script>
    <script src="demo/Query.js"></script>
    <script src="demo/Crane.js"></script>
    <script src="demo/PyramidTopple.js"></script>
    <script src="demo/Sticky.js"></script>
    <script src="demo/TheoJansen.js"></script>
    <script src="demo/Springies.js"></script>
    <script src="demo/ContactGraph.js"></script>
    <script src="demo/Buoyancy.js"></script>
    <script src="demo/Pump.js"></script>
    <script src="demo/LogoSmash.js"></script>
    <script src="demo/OneWay.js"></script>
    <script src="demo/Planet.js"></script>
    <script src="demo/ContactPoints.js"></script>
    <script src="demo/GJK.js"></script>
    <script src="demo/Joints.js"></script>
    <script src="demo/Player.js"></script>
    <script src="demo/Plink.js"></script>
    <script src="demo/Shatter.js"></script>
    <script src="demo/Slice.js"></script>
    <script src="demo/Smooth.js"></script>
    <script src="demo/Tank.js"></script>
    <script src="demo/Unicycle.js"></script>
    <script src="demo/Chains.js"></script>
    <script src="benchmark/mersenne.js"></script>
    <script src="benchmark/Bench.js"></script>


    <script>
      jQuery(function() {
        var $nav = $('#nav')
        var $demoList = $('#demo-list')

        function toggleDemoList(state) {
          state || (state = !$demoList.data('toggle-state'))
          $nav.data('toggle-state', state)

          var left = state? 0 : $demoList.width() - 20
          $nav.stop().animate({left: -left})
        }

        for (var name in Demo.demoList) {
          $demoList.append('<li><a href="#' + name + '" data-name="' + name + '">' + name + '</a></li>')
        }

        var hideDemoListTimeoutId = setTimeout(toggleDemoList, 3000)

        $nav.on({
          mouseenter: function() {
            clearTimeout(hideDemoListTimeoutId)
            toggleDemoList(true)
          }
          ,mouseleave: function() {
            clearTimeout(hideDemoListTimeoutId)
            hideDemoListTimeoutId = setTimeout(function() {
              toggleDemoList(false)
            }, 1000)
          }
        })
        $nav.on('click', 'a[data-name]', function(e) {
          e.stopPropagation()
          var index = $(this).data('name')
          Demo.runDemo(index)
          $demoList.find('a.current').removeClass('current')
          $(this).addClass('current')
          $('#canvas').focus()
        })

        Demo.run();

        var demoName = location.hash.substr(1)
        if (!(Demo.demoList[demoName])) {
          demoName = Object.keys(Demo.demoList)[0]
        }
        Demo.runDemo(demoName);

        $nav.find('a[data-name="' + demoName + '"]').addClass('current')
        $('#canvas').focus()
      })
    </script>
</body>
</html>
